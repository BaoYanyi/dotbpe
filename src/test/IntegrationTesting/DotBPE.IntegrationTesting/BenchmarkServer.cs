// Generated by the protocol buffer compiler.  DO NOT EDIT!
// source: benchmark.proto
#region Designer generated code

using System; 
using System.Threading.Tasks; 
using DotBPE.Rpc; 
using DotBPE.Protocol.Amp; 
using Google.Protobuf; 

namespace DotBPE.IntegrationTesting {

//start for class AbstractBenchmarkTest
public abstract class BenchmarkTestBase : IServiceActor<AmpMessage> 
{
public string Id => "50000$0";
//调用委托
private async Task ReceiveEchoAsync(IRpcContext<AmpMessage> context, AmpMessage req)
{
var request = BenchmarkMessage.Parser.ParseFrom(req.Data);
var data = await EchoAsync(request);
var response = AmpMessage.CreateResponseMessage(req.ServiceId, req.MessageId);
response.Sequence = req.Sequence;
response.Data = data.ToByteArray();
await context.SendAsync(response);
}

//抽象方法
public abstract Task<BenchmarkMessage> EchoAsync(BenchmarkMessage request);
//调用委托
private async Task ReceiveQuitAsync(IRpcContext<AmpMessage> context, AmpMessage req)
{
var request = Void.Parser.ParseFrom(req.Data);
var data = await QuitAsync(request);
var response = AmpMessage.CreateResponseMessage(req.ServiceId, req.MessageId);
response.Sequence = req.Sequence;
response.Data = data.ToByteArray();
await context.SendAsync(response);
}

//抽象方法
public abstract Task<Void> QuitAsync(Void request);
public Task ReceiveAsync(IRpcContext<AmpMessage> context, AmpMessage req)
{
//方法BenchmarkTest.Echo
if(req.MessageId == 1){return this.ReceiveEchoAsync(context, req);}
//方法BenchmarkTest.Quit
if(req.MessageId == 10000){return this.ReceiveQuitAsync(context, req);}
return Task.CompletedTask;
}
}
//end for class AbstractBenchmarkTest
}

#endregion

